(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[457],{34992:function(fe,z,u){"use strict";u.r(z),u.d(z,{default:function(){return Q}});var V=u(88983),h=u(55742),c=u(2824),s=u(67294),j=u(952),N=u(65554),P=u(39428),I=u(3182),_=u(76270),F=u(61870),re=u(77803),U=u(63540),me=u(13062),W=u(71230),ge=u(89032),K=u(15746),oe=u(59368),J=u(93434),ye=u(51005),G=u(86028),e=u(85893),X=function(w){var S,m,a,n,o,t,l,r=w.record,g=(0,s.useState)(!1),p=(0,c.Z)(g,2),Y=p[0],ne=p[1],y=(0,s.useState)([]),E=(0,c.Z)(y,2),q=E[0],D=E[1],Ie=(0,s.useState)(!1),xe=(0,c.Z)(Ie,2),Fe=xe[0],Ze=xe[1],Ge=(0,s.useState)(),je=(0,c.Z)(Ge,2),ke=je[0],Pe=je[1],Ve=(0,s.useState)([]),Se=(0,c.Z)(Ve,2),ee=Se[0],Ne=Se[1],Ue=(0,s.useState)(!1),Ce=(0,c.Z)(Ue,2),We=Ce[0],we=Ce[1],Ke=(0,s.useState)(),$e=(0,c.Z)(Ke,2),te=$e[0],Be=$e[1],Je=(0,s.useState)({}),Oe=(0,c.Z)(Je,2),Z=Oe[0],Xe=Oe[1],He=(0,s.useState)(0),Ee=(0,c.Z)(He,2),T=Ee[0],se=Ee[1],Qe=(0,s.useState)(0),Te=(0,c.Z)(Qe,2),De=Te[0],Me=Te[1],Ye=(0,s.useState)([]),Re=(0,c.Z)(Ye,2),$=Re[0],Ae=Re[1],qe=(0,s.useState)({}),Le=(0,c.Z)(qe,2),i=Le[0],le=Le[1];return(0,s.useEffect)((0,I.Z)((0,P.Z)().mark(function d(){var k,b,M,R,A,v,L,x;return(0,P.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(r!=null&&r.id)){C.next=16;break}return ne(!0),D(r==null||(k=r.voice_template)===null||k===void 0?void 0:k.map(function(f){return{label:"".concat(f.title,"\xB7").concat(f.language),value:f==null?void 0:f.id}})),(r==null||(b=r.voice_template)===null||b===void 0?void 0:b.length)>0&&Pe(r==null||(A=r.voice_template)===null||A===void 0?void 0:A[0].id),C.next=6,(0,F.e)({id:r==null?void 0:r.id});case 6:v=C.sent,Ne(v==null||(M=v.typeset_data)===null||M===void 0?void 0:M.map(function(f){return{label:"".concat(f.title,"\xB7").concat(f.c_type),value:f==null?void 0:f.id}})),(v==null||(R=v.typeset_data)===null||R===void 0?void 0:R.length)>0&&Be(v==null||(L=v.typeset_data)===null||L===void 0?void 0:L[0].id),v.voice_files_map=v==null?void 0:v.voice_files.reduce(function(f,B){return f["".concat(B.voice_template,"_").concat(B.para_content_uniq)]=B==null?void 0:B.voice_file,f},{}),Xe(v),x=(0,G.xX)(v==null?void 0:v.chapter_paragraphs,v==null?void 0:v.typeset_data,te),Ae(x),Me(x==null?void 0:x.length),x!=null&&x.length&&le(x==null?void 0:x[0]),ne(!1);case 16:case"end":return C.stop()}},d)})),[r==null?void 0:r.id]),(0,s.useEffect)(function(){if(te!=null){var d=(0,G.xX)(Z==null?void 0:Z.chapter_paragraphs,Z==null?void 0:Z.typeset_data,te);Ae(d),Me(d==null?void 0:d.length),se(0),le(d==null?void 0:d[0])}},[te]),console.log("currentPage",i),Y?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_.Od.Title,{animated:!0}),(0,e.jsx)(_.Od.Paragraph,{lineCount:5,animated:!0})]}):(0,e.jsxs)("div",{style:{height:"95%"},children:[(r==null||(S=r.voice_template)===null||S===void 0?void 0:S.length)>0&&(0,e.jsxs)("div",{children:["\u53D1\u97F3\u6A21\u677F:",(0,e.jsx)("a",{onClick:(0,I.Z)((0,P.Z)().mark(function d(){return(0,P.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:Ze(!0);case 1:case"end":return b.stop()}},d)})),children:q==null||(m=q.find(function(d){return d.value===ke}))===null||m===void 0?void 0:m.label}),(0,e.jsx)(_.cW,{columns:[q],visible:Fe,onClose:function(){Ze(!1)},onConfirm:function(k){Pe(k[0])}})]}),((a=Object.keys(ee))===null||a===void 0?void 0:a.length)>0&&(0,e.jsxs)("div",{children:["\u5E03\u5C40\u6A21\u677F:",(0,e.jsx)("a",{onClick:(0,I.Z)((0,P.Z)().mark(function d(){return(0,P.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:we(!0);case 1:case"end":return b.stop()}},d)})),children:ee==null||(n=ee.find(function(d){return d.value===te}))===null||n===void 0?void 0:n.label}),(0,e.jsx)(_.cW,{columns:[ee],visible:We,onClose:function(){we(!1)},onConfirm:function(k){Be(k[0])}})]}),Object.keys(($==null?void 0:$[T])||{}).length>0&&(0,e.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",marginTop:"5px"},children:[(0,e.jsx)(W.Z,{gutter:i==null||(o=i.layout_cfg)===null||o===void 0?void 0:o.grid_gutter,align:"stretch",style:{height:"100%"},children:(t=JSON.parse(i==null||(l=i.layout_cfg)===null||l===void 0?void 0:l.grid_row_col))===null||t===void 0?void 0:t.map(function(d,k){var b,M,R,A,v,L,x,ie,C,f,B,ce,de,O=(i==null||(b=i.paragraph)===null||b===void 0?void 0:b[k])||{},ze="".concat(ke,"_").concat(O==null?void 0:O.para_content_uniq),ve="",pe="",he=(i==null||(M=i.layout_cfg)===null||M===void 0?void 0:M.font_size)||14;return((R=JSON.parse(i==null||(A=i.layout_cfg)===null||A===void 0?void 0:A.grid_row_col))===null||R===void 0?void 0:R.length)==1?(ve="50%",pe="50%",he=he*2):(ve="92%",pe="8%"),(0,e.jsxs)(K.Z,{span:d,children:[(0,e.jsx)("div",{style:{fontFamily:(i==null||(v=i.layout_cfg)===null||v===void 0?void 0:v.font_family)||"Arial",fontSize:(i==null||(L=i.layout_cfg)===null||L===void 0?void 0:L.font_size)||14,color:(i==null||(x=i.layout_cfg)===null||x===void 0?void 0:x.font_color)||"black",backgroundImage:"url(".concat(O==null?void 0:O.illustration,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",opacity:(i==null||(ie=i.layout_cfg)===null||ie===void 0?void 0:ie.text_opacity)||1,height:ve,display:"flex",flexDirection:"column",alignItems:(i==null||(C=i.layout_cfg)===null||C===void 0?void 0:C.text_flex_align)||"center",justifyContent:(i==null||(f=i.layout_cfg)===null||f===void 0?void 0:f.text_flex_justify)||"center"}}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:(i==null||(B=i.layout_cfg)===null||B===void 0?void 0:B.font_family)||"Arial",fontSize:he,color:(i==null||(ce=i.layout_cfg)===null||ce===void 0?void 0:ce.font_color)||"black",height:pe},children:[(0,e.jsx)(oe.Z,{style:{marginRight:"15px",fontSize:"20px",color:"blue"},hidden:!(Z!=null&&(de=Z.voice_files_map)!==null&&de!==void 0&&de[ze]),onClick:function(){var _e,et=new Audio(Z==null||(_e=Z.voice_files_map)===null||_e===void 0?void 0:_e[ze]);et.play().catch(function(tt){console.error("\u97F3\u9891\u64AD\u653E\u5931\u8D25:",tt)})}}),O==null?void 0:O.para_content]})]})})}),(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"5px"},children:(0,e.jsxs)(_.T,{wrap:!0,align:"center",children:[(0,e.jsxs)(_.zx,{size:"mini",onClick:function(){se(T-1),le($==null?void 0:$[T-1])},disabled:T==0,children:[(0,e.jsx)(J.Z,{})," \u5411\u5DE6\u7FFB\u9875"]}),(0,e.jsxs)("span",{children:[T+1,"/",De]}),(0,e.jsxs)(_.zx,{size:"mini",onClick:function(){se(T+1),le($==null?void 0:$[T+1])},disabled:T==De-1,children:["\u5411\u53F3\u7FFB\u9875 ",(0,e.jsx)(ye.Z,{})]})]})})]})]})},ue=X,H=function(){var w=(0,s.useState)(!1),S=(0,c.Z)(w,2),m=S[0],a=S[1],n=(0,s.useState)([]),o=(0,c.Z)(n,2),t=o[0],l=o[1],r=(0,s.useState)({}),g=(0,c.Z)(r,2),p=g[0],Y=g[1];(0,s.useEffect)((0,I.Z)((0,P.Z)().mark(function y(){var E;return(0,P.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,F.lQ)({});case 2:E=D.sent,l(E);case 4:case"end":return D.stop()}},y)})),[]);var ne=[{key:"home",title:"\u9996\u9875",icon:(0,e.jsx)(re.Z,{}),badge:_.Ct.dot},{key:"personalCenter",title:"\u6211\u7684",icon:(0,e.jsx)(U.Z,{})}];return(0,e.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,e.jsx)(_.l2,{mode:"dark",icon:m?(0,e.jsx)(_.Icon,{type:"left"}):null,onLeftClick:function(){a(!1),Y({})},backArrow:m,onBack:function(){a(!1),Y({})},rightContent:(0,e.jsx)(_.Icon,{type:"search",style:{marginRight:"16px"}},"0"),style:{backgroundColor:"#e6e6e6"},children:m?"".concat(p==null?void 0:p.title,"-\u9884\u89C8"):"\u9996\u9875"}),(0,e.jsxs)("div",{style:{margin:"5px",flex:1,overflow:"auto"},children:[!m&&(0,e.jsx)(_.rj,{columns:2,gap:4,children:t.map(function(y){return(0,e.jsx)(_.rj.Item,{children:(0,e.jsxs)("div",{className:"grid-demo-item-block",children:[(0,e.jsx)("img",{src:y.cover_img,alt:"\u5C01\u9762\u56FE",className:"cover-image"}),(0,e.jsx)("h3",{children:(0,e.jsx)("a",{onClick:function(){a(!0),Y(y)},children:y.title})})]})},y.id)})}),m&&(0,e.jsx)(ue,{record:p})]}),(0,e.jsx)(_.nj,{safeArea:!0,style:{marginTop:"auto",backgroundColor:"#e6e6e6"},onChange:function(E){E==="personalCenter"&&_.FN.show("\u70B9\u51FB\u4E86\u6211\u7684tab")},children:ne.map(function(y){return(0,e.jsx)(_.nj.Item,{icon:y.icon,title:y.title},y.key)})})]})},be=H,Q=function(){var ae=Object.entries(N.n_).map(function(o){var t=(0,c.Z)(o,2),l=t[0],r=t[1];return{label:l,value:l}}),w=(0,s.useState)("iPhone12Pro"),S=(0,c.Z)(w,2),m=S[0],a=S[1],n=function(t){var l=t.target.value;a(l)};return(0,e.jsx)("div",{style:{display:"flex",flex:"0 0 100%",maxWidth:"100%"},children:(0,e.jsxs)("div",{className:"mobile-screen-container",children:[(0,e.jsx)(j.ZP.Item,{label:"\u9009\u62E9\u673A\u578B",style:{margin:"15px"},children:(0,e.jsx)(h.ZP.Group,{onChange:n,defaultValue:m,children:ae.map(function(o){return(0,e.jsx)(h.ZP,{value:o.value,children:o.label},o.label)})})}),(0,e.jsx)("div",{className:"mobile-screen",style:{height:N.n_[m].height,width:N.n_[m].width},children:(0,e.jsx)(be,{})})]})})}},65554:function(fe,z,u){"use strict";u.d(z,{uq:function(){return V},EM:function(){return h},PW:function(){return c},rT:function(){return s},n_:function(){return j}});var V=[{value:"en_US",label:"\u82F1\u8BED"},{value:"zh_CN",label:"\u7B80\u4F53\u4E2D\u6587"},{value:"fr_FR",label:"\u6CD5\u8BED"},{value:"es_ES",label:"\u897F\u73ED\u7259\u8BED"},{value:"ar_AE",label:"\u963F\u62C9\u4F2F\u8BED"},{value:"ru_RU",label:"\u4FC4\u8BED"}],h=[{value:"A1",label:"\u5165\u95E8\u7EA7"},{value:"A2",label:"\u57FA\u7840\u7EA7"},{value:"B1",label:"\u8FDB\u9636\u7EA7"},{value:"B2",label:"\u9AD8\u9636\u7EA7"},{value:"C1",label:"\u6D41\u5229\u8FD0\u7528\u7EA7"},{value:"C2",label:"\u7CBE\u901A\u7EA7"}],c=[{value:"preschool",label:"\u5B66\u524D\u73ED"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"primary",label:"\u5C0F\u5B66"},{value:"middle",label:"\u521D\u4E2D"},{value:"high",label:"\u9AD8\u4E2D"},{value:"university",label:"\u5927\u5B66"}],s=[{value:"age1-preschool",label:"\u5B66\u524D1\u5C81"},{value:"age2-preschool",label:"\u5B66\u524D2\u5C81"},{value:"age3-preschool",label:"\u5B66\u524D3\u5C81"},{value:"age4-preschool",label:"\u5B66\u524D4\u5C81"},{value:"age5-preschool",label:"\u5B66\u524D5\u5C81"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"grade1-primary",label:"\u5C0F\u5B66\u4E00\u5E74\u7EA7"},{value:"grade2-primary",label:"\u5C0F\u5B66\u4E8C\u5E74\u7EA7"},{value:"grade3-primary",label:"\u5C0F\u5B66\u4E09\u5E74\u7EA7"},{value:"grade4-primary",label:"\u5C0F\u5B66\u56DB\u5E74\u7EA7"},{value:"grade5-primary",label:"\u5C0F\u5B66\u4E94\u5E74\u7EA7"},{value:"grade6-primary",label:"\u5C0F\u5B66\u516D\u5E74\u7EA7"},{value:"grade7-middle",label:"\u521D\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade8-middle",label:"\u521D\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade9-middle",label:"\u521D\u4E2D\u4E09\u5E74\u7EA7"},{value:"grade10-high",label:"\u9AD8\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade11-high",label:"\u9AD8\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade12-high",label:"\u9AD8\u4E2D\u4E09\u5E74\u7EA7"},{value:"freshman-university",label:"\u5927\u5B66\u4E00\u5E74\u7EA7"},{value:"sophomore-university",label:"\u5927\u5B66\u4E8C\u5E74\u7EA7"},{value:"junior-university",label:"\u5927\u5B66\u4E09\u5E74\u7EA7"},{value:"senior-university",label:"\u5927\u5B66\u56DB\u5E74\u7EA7"}],j={iPhone12Pro:{height:"844px",width:"390px"},iPhoneXR:{height:"896px",width:"414px"},iPhone14ProMax:{height:"932px",width:"430px"}}},61870:function(fe,z,u){"use strict";u.d(z,{lQ:function(){return _},Cy:function(){return re},e:function(){return me},zk:function(){return ge},Zz:function(){return oe},Y6:function(){return e},Dh:function(){return ue}});var V=u(93224),h=u(39428),c=u(11849),s=u(3182),j=u(78370),N=["id"],P=["id"],I=null;function _(a,n){return F.apply(this,arguments)}function F(){return F=(0,s.Z)((0,h.Z)().mark(function a(n,o){return(0,h.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.Z)("/api/pic_book/book/",(0,c.Z)({method:"GET",data:(0,c.Z)({},n)},o||{})));case 1:case"end":return l.stop()}},a)})),F.apply(this,arguments)}function re(a,n){return U.apply(this,arguments)}function U(){return U=(0,s.Z)((0,h.Z)().mark(function a(n,o){var t,l,r;return(0,h.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=n.id,l=t===void 0?0:t,r=(0,V.Z)(n,N),p.abrupt("return",(0,j.Z)("/api/pic_book/book/".concat(l,"/"),(0,c.Z)({method:"GET"},o||{})));case 2:case"end":return p.stop()}},a)})),U.apply(this,arguments)}function me(a,n){return W.apply(this,arguments)}function W(){return W=(0,s.Z)((0,h.Z)().mark(function a(n,o){var t,l,r;return(0,h.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=n.id,l=t===void 0?0:t,r=(0,V.Z)(n,P),p.abrupt("return",(0,j.Z)("/api/pic_book/book/".concat(l,"/preview/"),(0,c.Z)({method:"GET"},o||{})));case 2:case"end":return p.stop()}},a)})),W.apply(this,arguments)}function ge(a,n,o){return K.apply(this,arguments)}function K(){return K=(0,s.Z)((0,h.Z)().mark(function a(n,o,t){return(0,h.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,j.Z)("/api/pic_book/book/".concat(n,"/"),(0,c.Z)({method:"PATCH",data:o},t||{})));case 1:case"end":return r.stop()}},a)})),K.apply(this,arguments)}function oe(a,n){return J.apply(this,arguments)}function J(){return J=(0,s.Z)((0,h.Z)().mark(function a(n,o){return(0,h.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.Z)("/api/pic_book/book/",(0,c.Z)({method:"POST",data:n},o||{})));case 1:case"end":return l.stop()}},a)})),J.apply(this,arguments)}function ye(a,n){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,o){var t,l;return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return t=n.id,l=t===void 0?0:t,g.abrupt("return",request("/api/pic_book/book/".concat(l),_objectSpread({method:"DELETE"},o||{})));case 2:case"end":return g.stop()}},a)})),G.apply(this,arguments)}function e(a){return X.apply(this,arguments)}function X(){return X=(0,s.Z)((0,h.Z)().mark(function a(n){return(0,h.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.Z)("/api/pic_book/voice_template/",(0,c.Z)({method:"GET"},n||{})));case 1:case"end":return t.stop()}},a)})),X.apply(this,arguments)}function ue(a){return H.apply(this,arguments)}function H(){return H=(0,s.Z)((0,h.Z)().mark(function a(n){return(0,h.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.Z)("/api/pic_book/author/",(0,c.Z)({method:"GET"},n||{})));case 1:case"end":return t.stop()}},a)})),H.apply(this,arguments)}function be(a,n){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,o){var t,l,r;return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=n.id,l=t===void 0?0:t,r=_objectWithoutProperties(n,I),p.abrupt("return",request("/api/pic_book/chapter/".concat(l,"/"),_objectSpread({method:"PATCH",data:r},o||{})));case 2:case"end":return p.stop()}},a)})),Q.apply(this,arguments)}function ae(a,n){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,o){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/pic_book/chapter/",_objectSpread({method:"POST",data:_objectSpread({},n)},o||{})));case 1:case"end":return l.stop()}},a)})),w.apply(this,arguments)}function S(a,n){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,o){var t,l;return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return t=n.id,l=t===void 0?0:t,g.abrupt("return",request("/api/pic_book/chapter/".concat(l,"/"),_objectSpread({method:"DELETE"},o||{})).catch(function(p){return{}}));case 2:case"end":return g.stop()}},a)})),m.apply(this,arguments)}}}]);
