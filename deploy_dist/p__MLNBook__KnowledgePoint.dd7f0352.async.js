(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[342],{5966:function(k,O,r){"use strict";var c=r(28991),y=r(81253),D=r(85893),Z=r(65556),x=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],_="text",p=function(i){var R=i.fieldProps,d=i.proFieldProps,e=(0,y.Z)(i,x);return(0,D.jsx)(Z.Z,(0,c.Z)({valueType:_,fieldProps:R,filedConfig:{valueType:_},proFieldProps:d},e))},f=function(i){var R=i.fieldProps,d=i.proFieldProps,e=(0,y.Z)(i,m);return(0,D.jsx)(Z.Z,(0,c.Z)({valueType:"password",fieldProps:R,proFieldProps:d,filedConfig:{valueType:_}},e))},M=p;M.Password=f,M.displayName="ProFormComponent",O.Z=M},73036:function(k,O,r){"use strict";r.r(O),r.d(O,{default:function(){return B}});var c=r(39428),y=r(3182),D=r(57663),Z=r(71577),x=r(12968),m=r(20352),_=r(2824),p=r(51042),f=r(67294),M=r(61711),I=r(17294),i=r(24967),R=r(37720),d=r(65554),e=r(37476),n=r(5966),l=r(64317),t=r(86028),a=r(91214),o=r(85893),u=function(b){var s=b.record,j=b.setShowModal,L=b.showModal,C=b.actionRef,W=b.setKpointOptionsData,S=s.id?s:{language:"en_US",language_level:"A1",phase:"preschool",grade:"age1-preschool",pic_style:"realistic"};return(0,o.jsxs)(e.Y,{title:s!=null&&s.id?"\u7F16\u8F91\u77E5\u8BC6\u70B9:".concat(s==null?void 0:s.id):"\u65B0\u5EFA\u77E5\u8BC6\u70B9",width:"600px",layout:"horizontal",visible:L,initialValues:S,onVisibleChange:j,onFinish:function(){var F=(0,y.Z)((0,c.Z)().mark(function U(K){var P,E;return(0,c.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(s!=null&&s.id)){v.next=7;break}return K.id=s==null?void 0:s.id,v.next=4,(0,R.Et)(K);case 4:P=v.sent,v.next=11;break;case 7:return K.knowledge_uniq=(0,t.J)(K.knowledge),v.next=10,(0,R.dz)(K);case 10:P=v.sent;case 11:if(!P){v.next=22;break}if(j(!1),!(C!=null&&C.current)){v.next=17;break}C.current.reload(),v.next=22;break;case 17:if(!W){v.next=22;break}return v.next=20,(0,a.f$)();case 20:E=v.sent,W(E);case 22:case"end":return v.stop()}},U)}));return function(U){return F.apply(this,arguments)}}(),children:[(0,o.jsx)(n.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u77E5\u8BC6\u70B9",name:"knowledge"}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u8BED\u8A00",name:"language",options:d.uq}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u8BED\u8A00\u7EA7\u522B",name:"language_level",options:d.EM}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u5B66\u6BB5",name:"phase",options:d.PW}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u5E74\u7EA7",name:"grade",options:d.rT})]})},h=u,g=function(){var b=(0,f.useState)(!1),s=(0,_.Z)(b,2),j=s[0],L=s[1],C=(0,f.useState)(),W=(0,_.Z)(C,2),S=W[0],F=W[1],U=(0,f.useRef)(),K=[{title:"ID",dataIndex:"id"},{title:"\u5185\u5BB9",dataIndex:"knowledge",valueType:"textarea"},{title:"\u8BED\u8A00",dataIndex:"language",filters:!0,onFilter:!0,valueEnum:d.uq.reduce(function(P,E){var T=E.value,v=E.label;return P[T]={text:v},P},{})},{title:"\u8BED\u8A00\u7EA7\u522B",dataIndex:"language_level",filters:!0,onFilter:!0,valueEnum:d.EM.reduce(function(P,E){var T=E.value,v=E.label;return P[T]={text:v},P},{})},{title:"\u5B66\u6BB5",dataIndex:"phase",filters:!0,onFilter:!0,valueEnum:d.PW.reduce(function(P,E){var T=E.value,v=E.label;return P[T]={text:v},P},{})},{title:"\u5E74\u7EA7",dataIndex:"grade",filters:!0,onFilter:!0,valueEnum:d.rT.reduce(function(P,E){var T=E.value,v=E.label;return P[T]={text:v},P},{})},{title:"\u63D2\u56FE",dataIndex:"illustration",render:function(E,T){return[(0,o.jsx)(m.Z,{src:T==null?void 0:T.illustration,width:35,height:35})]}},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"utime"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(E,T){return[(0,o.jsx)("a",{onClick:function(){L(!0),F(T)},children:"\u4FEE\u6539"},"config")]}}];return(0,o.jsxs)(I.ZP,{title:!1,pageHeaderRender:!1,children:[(0,o.jsx)(i.ZP,{headerTitle:"\u77E5\u8BC6\u70B9\u5217\u8868",actionRef:U,rowKey:"key",size:"small",search:!1,options:{density:!1},toolBarRender:function(){return[(0,o.jsxs)(Z.Z,{type:"primary",onClick:function(){L(!0),F({})},children:[(0,o.jsx)(p.Z,{})," ",(0,o.jsx)(M._H,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:function(){var P=(0,y.Z)((0,c.Z)().mark(function E(T,v,G){var N;return(0,c.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,R.Qm)(T);case 2:return N=A.sent,A.abrupt("return",{data:N});case 4:case"end":return A.stop()}},E)}));return function(E,T,v){return P.apply(this,arguments)}}(),columns:K}),j&&(0,o.jsx)(h,{record:S,setShowModal:L,showModal:j,actionRef:U})]})},B=g},91214:function(k,O,r){"use strict";r.d(O,{hs:function(){return x},f$:function(){return m},V1:function(){return _},IT:function(){return p},FC:function(){return f},W8:function(){return M},EF:function(){return i},Pv:function(){return R}});var c=r(39428),y=r(3182),D=r(86582),Z=r(37720),x=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=void 0,t=function o(u,h){for(var g=0;g<u.length;g++){if(u[g].isLeaf)return h(n?u[g].tag_label:{page_id:u[g].id,page_title:u[g].title,parent:u[g].parent});u[g].children&&o(u[g].children,h)}},a=(0,D.Z)(e);return t(a,function(o){l==null&&(l=o)}),l},m=function(){var d=(0,y.Z)((0,c.Z)().mark(function e(){var n;return(0,c.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Z.Qm)({});case 2:return n=t.sent,t.abrupt("return",n==null?void 0:n.map(function(a){return{label:a==null?void 0:a.knowledge,value:a==null?void 0:a.id}}));case 4:case"end":return t.stop()}},e)}));return function(){return d.apply(this,arguments)}}(),_=function(e){return e==null?void 0:e.map(function(n){return{label:"".concat(n==null?void 0:n.title,"(").concat(n==null?void 0:n.grid_row_col,")"),value:n==null?void 0:n.id}})},p=function d(e){e==null||e.forEach(function(n){n.value=n.key,n!=null&&n.children&&d(n==null?void 0:n.children)})},f=function(e){var n=!0,l="";if(e.dragNode.isLeaf&&e.dropPosition==-1)return{canDrag:!1,errMsg:"\u7981\u6B62page\u8282\u70B9\u653E\u5230\u6700\u5916\u5C42"};if(e.node.pos.split("-").length>5)return{canDrag:!1,errMsg:"\u76EE\u5F55\u6700\u5927\u5C42\u7EA7\u4E0D\u80FD\u8D85\u8FC73\u5C42"};if(e.dropToGap){if(e.dragNode.isLeaf)return{canDrag:!1,errMsg:"page\u8282\u70B9\u53EA\u80FD\u653E\u5728\u7AE0\u8282\u5185"}}else{var t;if(!e.dragNode.isLeaf&&!e.node.isLeaf)return{canDrag:!1,errMsg:"\u7981\u6B62\u7AE0\u8282\u62D6\u653E\u5230page\u8282\u70B9"};if(e.node.expanded&&((t=e.node.pos.split("-"))===null||t===void 0?void 0:t.length)>4)return{canDrag:!1,errMsg:"\u76EE\u5F55\u6700\u5927\u5C42\u7EA7\u4E0D\u80FD\u8D85\u8FC73\u5C42"}}return{canDrag:n,errMsg:l}},M=function(e,n){var l,t=I(e.dragNode.key,n);return{sort_key:e.dragNode.key,target_parent:t.target_parent,target_children:(l=t.target_children)===null||l===void 0?void 0:l.map(function(a){return a.key})}},I=function(e,n){var l="",t=[],a=function o(u,h,g,B){for(var w=0;w<u.length;w++){if(u[w].key===h)return B(u[w],w,g,u);u[w].children&&o(u[w].children,h,u[w].key,B)}};return a(n,e,null,function(o,u,h,g){l=h,t=g}),{target_parent:l,target_children:t}},i=function(e,n){var l=e.node.key,t=e.dragNode.key,a=e.node.pos.split("-"),o=e.dropPosition-Number(a[a.length-1]),u=function b(s,j,L){for(var C=0;C<s.length;C++){if(s[C].key===j)return L(s[C],C,s);s[C].children&&b(s[C].children,j,L)}},h=(0,D.Z)(n),g;if(u(h,t,function(b,s,j){j.splice(s,1),g=b}),!e.dropToGap)u(h,l,function(b){b.children=b.children||[],b.children.unshift(g)});else if((e.node.props.children||[]).length>0&&e.node.props.expanded&&o===1)u(h,l,function(b){b.children=b.children||[],b.children.unshift(g)});else{var B,w;u(h,l,function(b,s,j){B=j,w=s}),o===-1?B.splice(w,0,g):B.splice(w+1,0,g)}return h},R=function(e){var n;return!(e.sort_key.toString().startsWith("leaf_")&&(n=e.target_parent)!==null&&n!==void 0&&n.toString().startsWith("leaf_")||e.target_parent==null)}},65554:function(k,O,r){"use strict";r.d(O,{uq:function(){return c},EM:function(){return y},PW:function(){return D},rT:function(){return Z},n_:function(){return x}});var c=[{value:"en_US",label:"\u82F1\u8BED"},{value:"zh_CN",label:"\u7B80\u4F53\u4E2D\u6587"},{value:"fr_FR",label:"\u6CD5\u8BED"},{value:"es_ES",label:"\u897F\u73ED\u7259\u8BED"},{value:"ar_AE",label:"\u963F\u62C9\u4F2F\u8BED"},{value:"ru_RU",label:"\u4FC4\u8BED"}],y=[{value:"A1",label:"\u5165\u95E8\u7EA7"},{value:"A2",label:"\u57FA\u7840\u7EA7"},{value:"B1",label:"\u8FDB\u9636\u7EA7"},{value:"B2",label:"\u9AD8\u9636\u7EA7"},{value:"C1",label:"\u6D41\u5229\u8FD0\u7528\u7EA7"},{value:"C2",label:"\u7CBE\u901A\u7EA7"}],D=[{value:"preschool",label:"\u5B66\u524D\u73ED"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"primary",label:"\u5C0F\u5B66"},{value:"middle",label:"\u521D\u4E2D"},{value:"high",label:"\u9AD8\u4E2D"},{value:"university",label:"\u5927\u5B66"}],Z=[{value:"age1-preschool",label:"\u5B66\u524D1\u5C81"},{value:"age2-preschool",label:"\u5B66\u524D2\u5C81"},{value:"age3-preschool",label:"\u5B66\u524D3\u5C81"},{value:"age4-preschool",label:"\u5B66\u524D4\u5C81"},{value:"age5-preschool",label:"\u5B66\u524D5\u5C81"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"grade1-primary",label:"\u5C0F\u5B66\u4E00\u5E74\u7EA7"},{value:"grade2-primary",label:"\u5C0F\u5B66\u4E8C\u5E74\u7EA7"},{value:"grade3-primary",label:"\u5C0F\u5B66\u4E09\u5E74\u7EA7"},{value:"grade4-primary",label:"\u5C0F\u5B66\u56DB\u5E74\u7EA7"},{value:"grade5-primary",label:"\u5C0F\u5B66\u4E94\u5E74\u7EA7"},{value:"grade6-primary",label:"\u5C0F\u5B66\u516D\u5E74\u7EA7"},{value:"grade7-middle",label:"\u521D\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade8-middle",label:"\u521D\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade9-middle",label:"\u521D\u4E2D\u4E09\u5E74\u7EA7"},{value:"grade10-high",label:"\u9AD8\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade11-high",label:"\u9AD8\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade12-high",label:"\u9AD8\u4E2D\u4E09\u5E74\u7EA7"},{value:"freshman-university",label:"\u5927\u5B66\u4E00\u5E74\u7EA7"},{value:"sophomore-university",label:"\u5927\u5B66\u4E8C\u5E74\u7EA7"},{value:"junior-university",label:"\u5927\u5B66\u4E09\u5E74\u7EA7"},{value:"senior-university",label:"\u5927\u5B66\u56DB\u5E74\u7EA7"}],x={iPhone12Pro:{height:"844px",width:"390px"},iPhoneXR:{height:"896px",width:"414px"},iPhone14ProMax:{height:"932px",width:"430px"}}},86028:function(k,O,r){"use strict";r.d(O,{J:function(){return D},D:function(){return Z}});var c=r(81354),y=r.n(c),D=function(m){return c.MD5(m).toString()},Z=function(){var m=new Date().getTime(),_="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var f=(m+Math.random()*16)%16|0;return m=Math.floor(m/16),(p=="x"?f:f&7|8).toString(16)});return _}},37720:function(k,O,r){"use strict";r.d(O,{Qm:function(){return _},Et:function(){return f},dz:function(){return I}});var c=r(93224),y=r(39428),D=r(11849),Z=r(3182),x=r(78370),m=["id"];function _(e,n){return p.apply(this,arguments)}function p(){return p=(0,Z.Z)((0,y.Z)().mark(function e(n,l){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.Z)("/api/pic_book/knowledge/",(0,D.Z)({method:"GET",params:(0,D.Z)({},n)},l||{})));case 1:case"end":return a.stop()}},e)})),p.apply(this,arguments)}function f(e,n){return M.apply(this,arguments)}function M(){return M=(0,Z.Z)((0,y.Z)().mark(function e(n,l){var t,a,o;return(0,y.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t=n.id,a=t===void 0?0:t,o=(0,c.Z)(n,m),h.abrupt("return",(0,x.Z)("/api/pic_book/knowledge/".concat(a,"/"),(0,D.Z)({method:"PATCH",data:(0,D.Z)({},o)},l||{})));case 2:case"end":return h.stop()}},e)})),M.apply(this,arguments)}function I(e,n){return i.apply(this,arguments)}function i(){return i=(0,Z.Z)((0,y.Z)().mark(function e(n,l){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.Z)("/api/pic_book/knowledge/",(0,D.Z)({method:"POST",data:(0,D.Z)({},n)},l||{})));case 1:case"end":return a.stop()}},e)})),i.apply(this,arguments)}function R(e,n){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function e(n,l){var t,a;return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.id,a=t===void 0?0:t,u.abrupt("return",request("/api/pic_book/knowledge/".concat(a),_objectSpread({method:"DELETE"},l||{})));case 2:case"end":return u.stop()}},e)})),d.apply(this,arguments)}},78370:function(k,O,r){"use strict";var c=r(39428),y=r(34792),D=r(48086),Z=r(3182),x=r(11849),m=r(11238);m.ZP.interceptors.request.use(function(_,p){if(_!="/v2api/auth/users/current/"){var f={Authorization:"Token "+localStorage.getItem("token")};return{url:_,options:(0,x.Z)((0,x.Z)({},p),{},{headers:f,interceptors:!0})}}return{url:_,options:(0,x.Z)((0,x.Z)({},p),{},{interceptors:!0})}}),m.ZP.interceptors.request.use(function(_,p){return{url:"".concat(_),options:(0,x.Z)((0,x.Z)({},p),{},{interceptors:!0})}},{global:!0}),m.ZP.interceptors.response.use(function(_,p){var f=_.headers.get("Content-Type");return _}),m.ZP.interceptors.response.use(function(){var _=(0,Z.Z)((0,c.Z)().mark(function p(f){var M;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return M={500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},M[f.status]&&D.ZP.error(M[f.status]),i.abrupt("return",f);case 3:case"end":return i.stop()}},p)}));return function(p){return _.apply(this,arguments)}}()),m.ZP.interceptors.response.use(function(){var _=(0,Z.Z)((0,c.Z)().mark(function p(f){var M;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.clone().json();case 2:return M=i.sent,M&&M.NOT_LOGIN&&(location.href="\u767B\u5F55url"),i.abrupt("return",f);case 5:case"end":return i.stop()}},p)}));return function(p){return _.apply(this,arguments)}}()),O.Z=m.ZP},42480:function(){}}]);
