(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[342],{5966:function(K,T,r){"use strict";var c=r(28991),Z=r(81253),x=r(85893),D=r(80202),y=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],v="text",p=function(i){var k=i.fieldProps,d=i.proFieldProps,e=(0,Z.Z)(i,y);return(0,x.jsx)(D.Z,(0,c.Z)({valueType:v,fieldProps:k,filedConfig:{valueType:v},proFieldProps:d},e))},f=function(i){var k=i.fieldProps,d=i.proFieldProps,e=(0,Z.Z)(i,g);return(0,x.jsx)(D.Z,(0,c.Z)({valueType:"password",fieldProps:k,proFieldProps:d,filedConfig:{valueType:v}},e))},M=p;M.Password=f,M.displayName="ProFormComponent",T.Z=M},73036:function(K,T,r){"use strict";r.r(T),r.d(T,{default:function(){return I}});var c=r(39428),Z=r(3182),x=r(57663),D=r(71577),y=r(12968),g=r(20352),v=r(2824),p=r(51042),f=r(67294),M=r(61711),R=r(17294),i=r(99552),k=r(37720),d=r(65554),e=r(37476),n=r(5966),l=r(64317),t=r(86028),a=r(91214),o=r(85893),u=function(b){var s=b.record,j=b.setShowModal,B=b.showModal,C=b.actionRef,A=b.setKpointOptionsData,S=s.id?s:{language:"en_US",language_level:"A1",phase:"preschool",grade:"age1-preschool",pic_style:"realistic"};return(0,o.jsxs)(e.Y,{title:s!=null&&s.id?"\u7F16\u8F91\u77E5\u8BC6\u70B9:".concat(s==null?void 0:s.id):"\u65B0\u5EFA\u77E5\u8BC6\u70B9",width:"600px",layout:"horizontal",visible:B,initialValues:S,onVisibleChange:j,onFinish:function(){var F=(0,Z.Z)((0,c.Z)().mark(function W(L){var P,E;return(0,c.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(s!=null&&s.id)){_.next=7;break}return L.id=s==null?void 0:s.id,_.next=4,(0,k.Et)(L);case 4:P=_.sent,_.next=11;break;case 7:return L.knowledge_uniq=(0,t.J)(L.knowledge),_.next=10,(0,k.dz)(L);case 10:P=_.sent;case 11:if(!P){_.next=22;break}if(j(!1),!(C!=null&&C.current)){_.next=17;break}C.current.reload(),_.next=22;break;case 17:if(!A){_.next=22;break}return _.next=20,(0,a.f$)();case 20:E=_.sent,A(E);case 22:case"end":return _.stop()}},W)}));return function(W){return F.apply(this,arguments)}}(),children:[(0,o.jsx)(n.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u77E5\u8BC6\u70B9",name:"knowledge"}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u8BED\u8A00",name:"language",options:d.uq}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u8BED\u8A00\u7EA7\u522B",name:"language_level",options:d.EM}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u5B66\u6BB5",name:"phase",options:d.PW}),(0,o.jsx)(l.Z,{rules:[{required:!0}],labelCol:{span:4},width:"md",label:"\u5E74\u7EA7",name:"grade",options:d.rT})]})},h=u,m=function(){var b=(0,f.useState)(!1),s=(0,v.Z)(b,2),j=s[0],B=s[1],C=(0,f.useState)(),A=(0,v.Z)(C,2),S=A[0],F=A[1],W=(0,f.useRef)(),L=[{title:"ID",dataIndex:"id"},{title:"\u5185\u5BB9",dataIndex:"knowledge",valueType:"textarea"},{title:"\u8BED\u8A00",dataIndex:"language",filters:!0,onFilter:!0,valueEnum:d.uq.reduce(function(P,E){var w=E.value,_=E.label;return P[w]={text:_},P},{})},{title:"\u8BED\u8A00\u7EA7\u522B",dataIndex:"language_level",filters:!0,onFilter:!0,valueEnum:d.EM.reduce(function(P,E){var w=E.value,_=E.label;return P[w]={text:_},P},{})},{title:"\u5B66\u6BB5",dataIndex:"phase",filters:!0,onFilter:!0,valueEnum:d.PW.reduce(function(P,E){var w=E.value,_=E.label;return P[w]={text:_},P},{})},{title:"\u5E74\u7EA7",dataIndex:"grade",filters:!0,onFilter:!0,valueEnum:d.rT.reduce(function(P,E){var w=E.value,_=E.label;return P[w]={text:_},P},{})},{title:"\u63D2\u56FE",dataIndex:"illustration",render:function(E,w){return[(0,o.jsx)(g.Z,{src:w==null?void 0:w.illustration,width:35,height:35})]}},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"utime"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(E,w){return[(0,o.jsx)("a",{onClick:function(){B(!0),F(w)},children:"\u4FEE\u6539"},"config")]}}];return(0,o.jsxs)(R.ZP,{title:!1,pageHeaderRender:!1,children:[(0,o.jsx)(i.ZP,{headerTitle:"\u77E5\u8BC6\u70B9\u5217\u8868",actionRef:W,rowKey:"key",size:"small",search:!1,options:{density:!1},toolBarRender:function(){return[(0,o.jsxs)(D.Z,{type:"primary",onClick:function(){B(!0),F({})},children:[(0,o.jsx)(p.Z,{})," ",(0,o.jsx)(M._H,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:function(){var P=(0,Z.Z)((0,c.Z)().mark(function E(w,_,G){var N;return(0,c.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,k.Qm)(w);case 2:return N=U.sent,U.abrupt("return",{data:N});case 4:case"end":return U.stop()}},E)}));return function(E,w,_){return P.apply(this,arguments)}}(),columns:L}),j&&(0,o.jsx)(h,{record:S,setShowModal:B,showModal:j,actionRef:W})]})},I=m},91214:function(K,T,r){"use strict";r.d(T,{hs:function(){return y},f$:function(){return g},V1:function(){return v},IT:function(){return p},FC:function(){return f},W8:function(){return M},EF:function(){return i},Pv:function(){return k}});var c=r(39428),Z=r(3182),x=r(86582),D=r(37720),y=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=void 0,t=function o(u,h){for(var m=0;m<u.length;m++){if(u[m].isLeaf)return h(n?u[m].tag_label:{page_id:u[m].id,page_title:u[m].title,parent:u[m].parent});u[m].children&&o(u[m].children,h)}},a=(0,x.Z)(e);return t(a,function(o){l==null&&(l=o)}),l},g=function(){var d=(0,Z.Z)((0,c.Z)().mark(function e(){var n;return(0,c.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.Qm)({});case 2:return n=t.sent,t.abrupt("return",n==null?void 0:n.map(function(a){return{label:a==null?void 0:a.knowledge,value:a==null?void 0:a.id}}));case 4:case"end":return t.stop()}},e)}));return function(){return d.apply(this,arguments)}}(),v=function(e){return e==null?void 0:e.map(function(n){return{label:"".concat(n==null?void 0:n.title,"(").concat(n==null?void 0:n.grid_row_col,")"),value:n==null?void 0:n.id}})},p=function d(e){e==null||e.forEach(function(n){n.value=n.key,n!=null&&n.children&&d(n==null?void 0:n.children)})},f=function(e){var n=!0,l="";if(e.dragNode.isLeaf&&e.dropPosition==-1)return{canDrag:!1,errMsg:"\u7981\u6B62page\u8282\u70B9\u653E\u5230\u6700\u5916\u5C42"};if(e.node.pos.split("-").length>5)return{canDrag:!1,errMsg:"\u76EE\u5F55\u6700\u5927\u5C42\u7EA7\u4E0D\u80FD\u8D85\u8FC73\u5C42"};if(e.dropToGap){if(e.dragNode.isLeaf)return{canDrag:!1,errMsg:"page\u8282\u70B9\u53EA\u80FD\u653E\u5728\u7AE0\u8282\u5185"}}else{var t;if(!e.dragNode.isLeaf&&!e.node.isLeaf)return{canDrag:!1,errMsg:"\u7981\u6B62\u7AE0\u8282\u62D6\u653E\u5230page\u8282\u70B9"};if(e.node.expanded&&((t=e.node.pos.split("-"))===null||t===void 0?void 0:t.length)>4)return{canDrag:!1,errMsg:"\u76EE\u5F55\u6700\u5927\u5C42\u7EA7\u4E0D\u80FD\u8D85\u8FC73\u5C42"}}return{canDrag:n,errMsg:l}},M=function(e,n){var l,t=R(e.dragNode.key,n);return{sort_key:e.dragNode.key,target_parent:t.target_parent,target_children:(l=t.target_children)===null||l===void 0?void 0:l.map(function(a){return a.key})}},R=function(e,n){var l="",t=[],a=function o(u,h,m,I){for(var O=0;O<u.length;O++){if(u[O].key===h)return I(u[O],O,m,u);u[O].children&&o(u[O].children,h,u[O].key,I)}};return a(n,e,null,function(o,u,h,m){l=h,t=m}),{target_parent:l,target_children:t}},i=function(e,n){var l=e.node.key,t=e.dragNode.key,a=e.node.pos.split("-"),o=e.dropPosition-Number(a[a.length-1]),u=function b(s,j,B){for(var C=0;C<s.length;C++){if(s[C].key===j)return B(s[C],C,s);s[C].children&&b(s[C].children,j,B)}},h=(0,x.Z)(n),m;if(u(h,t,function(b,s,j){j.splice(s,1),m=b}),!e.dropToGap)u(h,l,function(b){b.children=b.children||[],b.children.unshift(m)});else if((e.node.props.children||[]).length>0&&e.node.props.expanded&&o===1)u(h,l,function(b){b.children=b.children||[],b.children.unshift(m)});else{var I,O;u(h,l,function(b,s,j){I=j,O=s}),o===-1?I.splice(O,0,m):I.splice(O+1,0,m)}return h},k=function(e){var n;return!(e.sort_key.toString().startsWith("leaf_")&&(n=e.target_parent)!==null&&n!==void 0&&n.toString().startsWith("leaf_")||e.target_parent==null)}},65554:function(K,T,r){"use strict";r.d(T,{uq:function(){return c},EM:function(){return Z},PW:function(){return x},rT:function(){return D},n_:function(){return y}});var c=[{value:"en_US",label:"\u82F1\u8BED"},{value:"zh_CN",label:"\u7B80\u4F53\u4E2D\u6587"},{value:"fr_FR",label:"\u6CD5\u8BED"},{value:"es_ES",label:"\u897F\u73ED\u7259\u8BED"},{value:"ar_AE",label:"\u963F\u62C9\u4F2F\u8BED"},{value:"ru_RU",label:"\u4FC4\u8BED"}],Z=[{value:"A1",label:"\u5165\u95E8\u7EA7"},{value:"A2",label:"\u57FA\u7840\u7EA7"},{value:"B1",label:"\u8FDB\u9636\u7EA7"},{value:"B2",label:"\u9AD8\u9636\u7EA7"},{value:"C1",label:"\u6D41\u5229\u8FD0\u7528\u7EA7"},{value:"C2",label:"\u7CBE\u901A\u7EA7"}],x=[{value:"preschool",label:"\u5B66\u524D\u73ED"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"primary",label:"\u5C0F\u5B66"},{value:"middle",label:"\u521D\u4E2D"},{value:"high",label:"\u9AD8\u4E2D"},{value:"university",label:"\u5927\u5B66"}],D=[{value:"age1-preschool",label:"\u5B66\u524D1\u5C81"},{value:"age2-preschool",label:"\u5B66\u524D2\u5C81"},{value:"age3-preschool",label:"\u5B66\u524D3\u5C81"},{value:"age4-preschool",label:"\u5B66\u524D4\u5C81"},{value:"age5-preschool",label:"\u5B66\u524D5\u5C81"},{value:"kindergarten",label:"\u5E7C\u513F\u56ED"},{value:"grade1-primary",label:"\u5C0F\u5B66\u4E00\u5E74\u7EA7"},{value:"grade2-primary",label:"\u5C0F\u5B66\u4E8C\u5E74\u7EA7"},{value:"grade3-primary",label:"\u5C0F\u5B66\u4E09\u5E74\u7EA7"},{value:"grade4-primary",label:"\u5C0F\u5B66\u56DB\u5E74\u7EA7"},{value:"grade5-primary",label:"\u5C0F\u5B66\u4E94\u5E74\u7EA7"},{value:"grade6-primary",label:"\u5C0F\u5B66\u516D\u5E74\u7EA7"},{value:"grade7-middle",label:"\u521D\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade8-middle",label:"\u521D\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade9-middle",label:"\u521D\u4E2D\u4E09\u5E74\u7EA7"},{value:"grade10-high",label:"\u9AD8\u4E2D\u4E00\u5E74\u7EA7"},{value:"grade11-high",label:"\u9AD8\u4E2D\u4E8C\u5E74\u7EA7"},{value:"grade12-high",label:"\u9AD8\u4E2D\u4E09\u5E74\u7EA7"},{value:"freshman-university",label:"\u5927\u5B66\u4E00\u5E74\u7EA7"},{value:"sophomore-university",label:"\u5927\u5B66\u4E8C\u5E74\u7EA7"},{value:"junior-university",label:"\u5927\u5B66\u4E09\u5E74\u7EA7"},{value:"senior-university",label:"\u5927\u5B66\u56DB\u5E74\u7EA7"}],y={iPhone12Pro:{height:"844px",width:"390px"},iPhoneXR:{height:"896px",width:"414px"},iPhone14ProMax:{height:"932px",width:"430px"}}},86028:function(K,T,r){"use strict";r.d(T,{J:function(){return x},D:function(){return D}});var c=r(81354),Z=r.n(c),x=function(g){return c.MD5(g).toString()},D=function(){var g=new Date().getTime(),v="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var f=(g+Math.random()*16)%16|0;return g=Math.floor(g/16),(p=="x"?f:f&7|8).toString(16)});return v}},37720:function(K,T,r){"use strict";r.d(T,{Qm:function(){return v},Et:function(){return f},dz:function(){return R}});var c=r(93224),Z=r(39428),x=r(11849),D=r(3182),y=r(78370),g=["id"];function v(e,n){return p.apply(this,arguments)}function p(){return p=(0,D.Z)((0,Z.Z)().mark(function e(n,l){return(0,Z.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,y.Z)("/api/pic_book/knowledge/",(0,x.Z)({method:"GET",params:(0,x.Z)({},n)},l||{})));case 1:case"end":return a.stop()}},e)})),p.apply(this,arguments)}function f(e,n){return M.apply(this,arguments)}function M(){return M=(0,D.Z)((0,Z.Z)().mark(function e(n,l){var t,a,o;return(0,Z.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t=n.id,a=t===void 0?0:t,o=(0,c.Z)(n,g),h.abrupt("return",(0,y.Z)("/api/pic_book/knowledge/".concat(a,"/"),(0,x.Z)({method:"PATCH",data:(0,x.Z)({},o)},l||{})));case 2:case"end":return h.stop()}},e)})),M.apply(this,arguments)}function R(e,n){return i.apply(this,arguments)}function i(){return i=(0,D.Z)((0,Z.Z)().mark(function e(n,l){return(0,Z.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,y.Z)("/api/pic_book/knowledge/",(0,x.Z)({method:"POST",data:(0,x.Z)({},n)},l||{})));case 1:case"end":return a.stop()}},e)})),i.apply(this,arguments)}function k(e,n){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function e(n,l){var t,a;return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.id,a=t===void 0?0:t,u.abrupt("return",request("/api/pic_book/knowledge/".concat(a),_objectSpread({method:"DELETE"},l||{})));case 2:case"end":return u.stop()}},e)})),d.apply(this,arguments)}},78370:function(K,T,r){"use strict";var c=r(39428),Z=r(34792),x=r(48086),D=r(3182),y=r(11849),g=r(11238);g.ZP.interceptors.request.use(function(v,p){if(v!="/v2api/auth/users/current/"){var f={Authorization:"Token "+localStorage.getItem("token")};return{url:v,options:(0,y.Z)((0,y.Z)({},p),{},{headers:f,interceptors:!0})}}return{url:v,options:(0,y.Z)((0,y.Z)({},p),{},{interceptors:!0})}}),g.ZP.interceptors.request.use(function(v,p){return{url:"".concat(v),options:(0,y.Z)((0,y.Z)({},p),{},{interceptors:!0})}},{global:!0}),g.ZP.interceptors.response.use(function(v,p){var f=v.headers.get("Content-Type");return v}),g.ZP.interceptors.response.use(function(){var v=(0,D.Z)((0,c.Z)().mark(function p(f){var M;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return M={500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},M[f.status]&&x.ZP.error(M[f.status]),i.abrupt("return",f);case 3:case"end":return i.stop()}},p)}));return function(p){return v.apply(this,arguments)}}()),g.ZP.interceptors.response.use(function(){var v=(0,D.Z)((0,c.Z)().mark(function p(f){var M;return(0,c.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.clone().json();case 2:return M=i.sent,M&&M.NOT_LOGIN&&(location.href="\u767B\u5F55url"),i.abrupt("return",f);case 5:case"end":return i.stop()}},p)}));return function(p){return v.apply(this,arguments)}}()),T.Z=g.ZP},42480:function(){}}]);
