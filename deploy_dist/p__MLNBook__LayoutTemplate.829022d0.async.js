(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[856],{94544:function(L,h,e){"use strict";var u=e(28991),D=e(81253),x=e(67294),E=e(62910),c=e(85893),P=["fieldProps","popoverProps","proFieldProps","colors"],s=function(o,m){var O=o.fieldProps,t=o.popoverProps,d=o.proFieldProps,r=o.colors,p=(0,D.Z)(o,P);return(0,c.jsx)(E.Z,(0,u.Z)({valueType:"color",fieldProps:(0,u.Z)({popoverProps:t,colors:r},O),ref:m,proFieldProps:d,filedConfig:{defaultProps:{width:"100%"}}},p))};h.Z=x.forwardRef(s)},15643:function(L,h,e){"use strict";e.d(h,{Z:function(){return v}});var u=e(28991),D=e(81253),x=e(22122),E=e(67294),c=e(94737),P=e(66794),s=function(l,C){return E.createElement(P.Z,(0,x.Z)({},l,{ref:C,icon:c.Z}))},i=E.forwardRef(s),o=e(94412),m=e(71577),O=e(44190),t=e(9912),d=e(85893),r=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],p=function(l,C){var T,f=l.fieldProps,I=l.action,j=l.accept,b=l.listType,y=l.title,Z=y===void 0?"\u5355\u51FB\u4E0A\u4F20":y,_=l.max,a=l.icon,R=a===void 0?(0,d.jsx)(i,{}):a,K=l.buttonProps,B=l.disabled,U=l.proFieldProps,M=(0,D.Z)(l,r),F=(0,E.useMemo)(function(){var A;return(A=M.fileList)!==null&&A!==void 0?A:M.value},[M.fileList,M.value]),w=(0,E.useContext)(O.A),S=(U==null?void 0:U.mode)||w.mode||"edit",k=(_===void 0||!F||(F==null?void 0:F.length)<_)&&S!=="read",$=(b!=null?b:f==null?void 0:f.listType)==="picture-card";return(0,d.jsx)(o.Z,(0,u.Z)((0,u.Z)({action:I,accept:j,ref:C,listType:b||"picture",fileList:F},f),{},{name:(T=f==null?void 0:f.name)!==null&&T!==void 0?T:"file",onChange:function(G){var W;f==null||(W=f.onChange)===null||W===void 0||W.call(f,G)},children:k&&($?(0,d.jsxs)("span",{children:[R," ",Z]}):(0,d.jsxs)(m.Z,(0,u.Z)((0,u.Z)({disabled:B||(f==null?void 0:f.disabled)},K),{},{children:[R,Z]})))}))},n=(0,t.G)(E.forwardRef(p),{getValueFromEvent:function(l){return l.fileList}}),v=n},88032:function(L,h,e){"use strict";var u=e(39428),D=e(3182),x=e(67294),E=e(37476),c=e(5966),P=e(90672),s=e(64317),i=e(24739),o=e(25049),m=e(94544),O=e(15643),t=e(85893),d=function(p){var n=p.record,v=p.setShowModal,g=p.showModal,l=p.actionRef,C=p.updatePageDetailsFunc;n!=null&&n.background_img&&(n.background_img=[{url:n==null?void 0:n.background_img}]);var T=n.id?n:{c_type:"protected",grid_row_col:"[[24]]",grid_gutter:"[16, 24]",font_color:"#0000E0",font_family:"Arial",font_size:14,background_color:"#FFFFFF",text_flex_justify:"flex-end",text_flex_align:"flex-end",text_opacity:1};return(0,t.jsxs)(E.Y,{title:n!=null&&n.id?"\u7F16\u8F91\u9875\u9762\u6A21\u677F:".concat(n==null?void 0:n.id):"\u65B0\u5EFA\u9875\u9762\u6A21\u677F",width:"750px",layout:"horizontal",visible:g,initialValues:T,onVisibleChange:v,onFinish:function(){var f=(0,D.Z)((0,u.Z)().mark(function I(j){var b,y;return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(b=new FormData,Object.keys(j).forEach(function(a){a==="background_img"?j[a][0].originFileObj&&b.append(a,j[a][0].originFileObj):b.append(a,j[a])}),!(n!=null&&n.id)){_.next=9;break}return b.append("id",n==null?void 0:n.id),_.next=6,(0,o.fc)(n==null?void 0:n.id,b);case 6:y=_.sent,_.next=12;break;case 9:return _.next=11,(0,o.Lk)(b);case 11:y=_.sent;case 12:if(!y){_.next=20;break}if(v(!1),!C){_.next=19;break}return _.next=17,C();case 17:_.next=20;break;case 19:l.current&&l.current.reload();case 20:case"end":return _.stop()}},I)}));return function(I){return f.apply(this,arguments)}}(),children:[(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u6807\u9898",name:"title"}),(0,t.jsx)(P.Z,{rules:[{required:!0}],label:"\u63CF\u8FF0",name:"description"}),(0,t.jsx)(s.Z,{rules:[{required:!0}],label:"\u7C7B\u578B",name:"c_type",options:[{label:"\u5B8C\u5168\u516C\u5F00",value:"public"},{label:"\u5185\u90E8\u4F7F\u7528",value:"protected"},{label:"\u79C1\u6709",value:"private"}]}),(0,t.jsxs)(i.UW,{children:[(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u6805\u683C\u5E03\u5C40",name:"grid_row_col"}),(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u6805\u683C\u95F4\u8DDD",name:"grid_gutter"})]}),(0,t.jsxs)(i.UW,{children:[(0,t.jsx)(m.Z,{label:"\u5B57\u4F53\u989C\u8272",rules:[{required:!0}],name:"font_color"}),(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u5B57\u4F53",width:150,name:"font_family"}),(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u5B57\u4F53\u5927\u5C0F",width:125,name:"font_size"})]}),(0,t.jsxs)(i.UW,{children:[(0,t.jsx)(O.Z,{name:"background_img",label:"\u80CC\u666F\u56FE",max:1,fieldProps:{data:{},defaultFileList:[],multiple:!1,listType:"picture-card",accept:".png,.jpg,.jpeg",maxCount:1},extra:"\u652F\u6301 JPG\u3001PNG \u683C\u5F0F"}),(0,t.jsx)(m.Z,{label:"\u80CC\u666F\u989C\u8272",rules:[{required:!0}],name:"background_color"})]}),(0,t.jsxs)(i.UW,{children:[(0,t.jsx)(s.Z,{rules:[{required:!0}],label:"\u6587\u672C\u4E3B\u8F74\u4F4D\u7F6E",name:"text_flex_justify",fieldProps:{dropdownMatchSelectWidth:!1},options:[{label:"flex-start",value:"flex-start"},{label:"center",value:"center"},{label:"flex-end",value:"flex-end"},{label:"space-between",value:"space-between"},{label:"space-around",value:"space-around"},{label:"space-evenly",value:"space-evenly"}]}),(0,t.jsx)(s.Z,{rules:[{required:!0}],label:"\u6587\u672C\u4EA4\u53C9\u8F74\u4F4D\u7F6E",name:"text_flex_align",fieldProps:{dropdownMatchSelectWidth:!1},options:[{label:"flex-start",value:"flex-start"},{label:"center",value:"center"},{label:"flex-end",value:"flex-end"}]}),(0,t.jsx)(c.Z,{rules:[{required:!0}],label:"\u6587\u672C\u900F\u660E\u5EA6",name:"text_opacity",width:80})]})]})};h.Z=d},15279:function(L,h,e){"use strict";e.r(h);var u=e(39428),D=e(3182),x=e(57663),E=e(71577),c=e(12968),P=e(20352),s=e(2824),i=e(51042),o=e(67294),m=e(17294),O=e(24967),t=e(25049),d=e(88032),r=e(85893),p=function(){var v=(0,o.useState)(!1),g=(0,s.Z)(v,2),l=g[0],C=g[1],T=(0,o.useState)({}),f=(0,s.Z)(T,2),I=f[0],j=f[1],b=(0,o.useRef)(),y=[{title:"ID",dataIndex:"id"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u7C7B\u578B",dataIndex:"c_type",filters:!0,onFilter:!0,valueEnum:{public:"\u5B8C\u5168\u516C\u5F00",protected:"\u5185\u90E8\u4F7F\u7528",private:"\u79C1\u6709"}},{title:"\u6805\u683C\u5E03\u5C40",dataIndex:"grid_row_col"},{title:"\u6805\u683C\u95F4\u8DDD",dataIndex:"grid_gutter"},{title:"\u989C\u8272",dataIndex:"font_color",render:function(_,a){return[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:a==null?void 0:a.font_color}),(0,r.jsx)("div",{style:{backgroundColor:a==null?void 0:a.font_color,width:"55px",height:"20px",border:"1px solid lightgray",display:"inline-block"}})]})]}},{title:"\u5B57\u4F53",dataIndex:"font_family"},{title:"\u6587\u5B57\u5927\u5C0F",dataIndex:"font_size"},{title:"\u80CC\u666F\u56FE\u7247",dataIndex:"background_img",render:function(_,a){return[(0,r.jsx)(P.Z,{src:a==null?void 0:a.background_img,width:35,height:35})]}},{title:"\u80CC\u666F\u989C\u8272",dataIndex:"background_color",render:function(_,a){return[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:a==null?void 0:a.background_color}),(0,r.jsx)("div",{style:{backgroundColor:a==null?void 0:a.background_color,width:"55px",height:"20px",border:"1px solid lightgray",display:"inline-block"}})]})]}},{title:"\u6587\u672C\u4E3B\u8F74\u4F4D\u7F6E",dataIndex:"text_flex_justify"},{title:"\u6587\u672C\u4EA4\u53C9\u4F4D\u7F6E",dataIndex:"text_flex_align"},{title:"\u6587\u672C\u900F\u660E\u5EA6",dataIndex:"text_opacity"},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"user"},{title:"\u4FEE\u6539\u65F6\u95F4",dataIndex:"utime"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(_,a){return[(0,r.jsx)("a",{onClick:function(){C(!0),j(a)},children:"\u4FEE\u6539"},"config")]}}];return(0,r.jsxs)(m.ZP,{title:!1,pageHeaderRender:!1,children:[(0,r.jsx)(O.ZP,{headerTitle:"\u6A21\u677F\u5217\u8868",actionRef:b,rowKey:"key",size:"small",search:!1,options:{density:!1},toolBarRender:function(){return[(0,r.jsxs)(E.Z,{type:"primary",onClick:function(){j({}),C(!0)},children:[(0,r.jsx)(i.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var Z=(0,D.Z)((0,u.Z)().mark(function _(a,R,K){var B;return(0,u.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,t.Nk)(a);case 2:return B=M.sent,M.abrupt("return",{data:B});case 4:case"end":return M.stop()}},_)}));return function(_,a,R){return Z.apply(this,arguments)}}(),columns:y}),l&&(0,r.jsx)(d.Z,{record:I,setShowModal:C,showModal:l,actionRef:b})]})};h.default=p},25049:function(L,h,e){"use strict";e.d(h,{Nk:function(){return c},fc:function(){return s},Lk:function(){return o}});var u=e(39428),D=e(11849),x=e(3182),E=e(78370);function c(d,r){return P.apply(this,arguments)}function P(){return P=(0,x.Z)((0,u.Z)().mark(function d(r,p){return(0,u.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,E.Z)("/api/pic_book/layout/",(0,D.Z)({method:"GET",params:(0,D.Z)({},r)},p||{})));case 1:case"end":return v.stop()}},d)})),P.apply(this,arguments)}function s(d,r,p){return i.apply(this,arguments)}function i(){return i=(0,x.Z)((0,u.Z)().mark(function d(r,p,n){return(0,u.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,E.Z)("/api/pic_book/layout/".concat(r,"/"),(0,D.Z)({method:"PATCH",data:p},n||{})));case 1:case"end":return g.stop()}},d)})),i.apply(this,arguments)}function o(d,r){return m.apply(this,arguments)}function m(){return m=(0,x.Z)((0,u.Z)().mark(function d(r,p){return(0,u.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,E.Z)("/api/pic_book/layout/",(0,D.Z)({method:"POST",data:r},p||{})));case 1:case"end":return v.stop()}},d)})),m.apply(this,arguments)}function O(d,r){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function d(r,p){var n,v;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=r.id,v=n===void 0?0:n,l.abrupt("return",request("/api/pic_book/layout/".concat(v),_objectSpread({method:"DELETE"},p||{})));case 2:case"end":return l.stop()}},d)})),t.apply(this,arguments)}},78370:function(L,h,e){"use strict";var u=e(39428),D=e(34792),x=e(48086),E=e(3182),c=e(11849),P=e(11238);P.ZP.interceptors.request.use(function(s,i){if(s!="/v2api/auth/users/current/"){var o={Authorization:"Token "+localStorage.getItem("token")};return{url:s,options:(0,c.Z)((0,c.Z)({},i),{},{headers:o,interceptors:!0})}}return{url:s,options:(0,c.Z)((0,c.Z)({},i),{},{interceptors:!0})}}),P.ZP.interceptors.request.use(function(s,i){return{url:"".concat(s),options:(0,c.Z)((0,c.Z)({},i),{},{interceptors:!0})}},{global:!0}),P.ZP.interceptors.response.use(function(s,i){var o=s.headers.get("Content-Type");return s}),P.ZP.interceptors.response.use(function(){var s=(0,E.Z)((0,u.Z)().mark(function i(o){var m;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m={500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},m[o.status]&&x.ZP.error(m[o.status]),t.abrupt("return",o);case 3:case"end":return t.stop()}},i)}));return function(i){return s.apply(this,arguments)}}()),P.ZP.interceptors.response.use(function(){var s=(0,E.Z)((0,u.Z)().mark(function i(o){var m;return(0,u.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.clone().json();case 2:return m=t.sent,m&&m.NOT_LOGIN&&(location.href="\u767B\u5F55url"),t.abrupt("return",o);case 5:case"end":return t.stop()}},i)}));return function(i){return s.apply(this,arguments)}}()),h.Z=P.ZP}}]);
